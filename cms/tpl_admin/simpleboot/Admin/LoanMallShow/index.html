<html lang="zh-cn">
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <meta http-equiv="Cache-Control" content="no-cache">
  <meta http-equiv="Pragma" content="no-cache">
  <meta http-equiv="Expires" content="0">
  <title>贷超列表</title>
  <!-- import style -->
  <link rel="stylesheet" href="https://unpkg.com/vant/lib/vant-css/index.css"/>
</head>
<body>
<div id="app" v-loading="loading" v-cloak>
  <img src="http://cms.jiedan168.com/data/upload/20171224/5a3fca15dbfbd.png" style="width:100%;" />
  <van-row v-for="item in list" v-cloak style="border-bottom:1px solid lightgrey;">
    <van-col span="4">
        <img :src="item.logo" style="width:60%;margin:10px;border:1px solid darkgrey;" />
    </van-col>
    <van-col span="12" style="padding:10px;font-size:12px;">
      <span>{{item.name}}</span><br/>
      <span style="color:dimgrey;">
        {{item.descr}}
      </span><br/>
      <span>目前已有{{ item.shenqing}}人申请</span>
    </van-col>
    <van-col span="8" style="padding-top: 10px;font-size:12px;">
      <span style="color:red;">{{ item.edu }}</span>
      <br />
      <a :href="item.link">
        <van-button type="danger" size="small">立即申请</van-button>
      </a>
    </van-col>
  </van-row>
</div>

</body>
<!-- import script -->
<script src="https://unpkg.com/vue/dist/vue.min.js"></script>
<script src="https://unpkg.com/vant/lib/vant.min.js"></script>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script>
  new Vue({
    el     : "#app",
    data   : {
      loading: false,
      list   : []
    },
    created() {
      this.onLoad()
    },
    methods: {
      finished() {
        this.loading = false
      },
      onLoad() {
        this.loading = true
        axios.get('/index.php?g=Admin&m=LoanMallShow&a=showData')
             .then((response) => {
               this.loading = false
               console.log(response)
               this.list = response.data
             })
             .catch((error) => {
               this.loading = false
               console.log(error)
             })

      }
    }
  })

</script>
<style>
  [v-cloak] {display: none;}
</style>
</html>